matrix:
  include:
  - language: python
    python: 3.5
    before_install: cd rekallpy
    install: pip3 install .
    script: python3 setup.py test
    deploy:
      skip_cleanup: true
      provider: pypi
      user: wcrichto
    password:
      secure: P9mXMalYDHHj+EXV35Fk0pNH4WpM17gKN9LOc/szhJhC2g5Q/Z9nfO/DJX43UhSnkELVtcGkEBFE7IOL0MoF0p3u0XR6vQEy8WPTmxjNyIDYZukgGumX/7S2faSR6rSU7ej1MIJYWq70j3KLilGZQtjFzhfHmpzZOCwo/CoMU8gs91oWCxVX5UjWy3RSxtpnpu46GwzxBGgOsJQcerlLGZM6k5IjgVdzeBBz7x18z4z4kp/x9+jNvV/wGLvHF4oWfMav8cbD8G3QXEj4c7TrBOVPfxGHfU9dVrAVwGu81509JCGNz2IpxbmLKCdJfmwnSuZ5C22bjvZWNPZKsywekT+jmwREG7JCcXn/sZw/RX/3rQM8jrpI565dxAFAVPkbtC1fwP/KrSH/Dvy/Pr4LCXHg8dPq9n4CANevNzOf8tYXPvJKIyjyPCn6rcIDw1rnsTqJWRIbdZenGTdI5Ovh8VIrGS6CL2Nb+aF56xHKbXflxZzX4uJ2OO7Uhe6NUbEchg1m6qZ/43lHrzJ2TppM8N32V/QuispP6FXLOzBHSK0ygKpqEqMpK7S2U0Ookr5rlOdZfxJw42oGVNuQIoyCG58IxpKED3TCVnHyJ+7n7ZSGwQtYIfYmjc1BPaTcmkWWa9iuX7kbASMesRhKMpws+bOL9mIWcruVHNpX9Q5gus4=
      on:
        tags: true
        distributions: sdist bdist_wheel
  - language: node_js
    node_js: 10
    before_install: cd rekalljs
    install: npm install && npm run prepublishOnly
    script: npm run test
    deploy:
      provider: npm
      email: wcrichto@cs.stanford.edu
      api_key:
        secure: QUs06lBFyNUVHh7+ph45dJDeo9drgCWng65UR5jMXcT8u6U1BPsQ1fy0+djAn2X9LL1ZWBJK+H+en17w70xInDUW0tRuI1XJ5SFGm+4J0+mPEisG4gygn7+E6bd1gIBqbxthQPJXIJQ1XZ4zRWZOuDliNVfMAn57SSJClP9kiTzV4U3wUG0uyPtlHNekAh5lw5Qj7SMRs0f9S2bnCIrbecKB7k/Cb/++sni8Umso/V0nOOKT+xZtCRRoQJkIUVtgycIhDrOunMDaPns0bqS0rIi6XiUS7CsFy8RSaOU5z2hDuZllMdFAwdiT6A5RcPRuJqVXf6+g7zmqNqRGmJlKupkCzLCgvV1SiSMKXcv88UmYBfUezhL17BZkMBjYatQL/fzNvrpz9iIlgYjoDBjNrK42rf1MCmu7tm1pUbWXCBu9tNDiWwER+qcHBUasugDQdfPrisDJQQiVpLdw1IXu7oXX+Lv5MRlXzgB0SnmjB5lDLs54BjbAmtsMy850V/APm0+KPkbtoV/1Zd0mEw67Wwq5s7O/BBokOf4wrBeUg6Ujh4/85T3UJ3hJ8bssWllV59MSWcfruGmxuUOF8iuTQDvGBNv9BFZOWvZcrLxqP9wLorEGJ1N/egS/3eFBSL4veWCv8iY4m3un+EI8kvGNSK3SFtMZFXVPPQMr9Fa4h1c=
      skip_cleanup: true
      on:
        tags: true
